(this.webpackJsonpgastos=this.webpackJsonpgastos||[]).push([[0],{79:function(e,t,n){},88:function(e,t,n){"use strict";n.r(t);var a=n(6),i=n(0),c=n.n(i),s=n(10),r=n.n(s),o=(n(79),n(68)),u=n(129),l=n(130),j=n(31),d=n(23),p=n(51),b=n(117),h=n(124),g=n(125),f=n(126),O=n(127),x=n(128),v=n(131),m=n(35),w=n.n(m),y=n(52),C="919469260883-sg2gn8vm4pf9dnu8dbomd43o3bg6ks8c.apps.googleusercontent.com",k="AIzaSyCi-9_coki0wNUyCpwzbQNRO1NnptWd4zY",I=["https://sheets.googleapis.com/$discovery/rest?version=v4"],N="https://www.googleapis.com/auth/spreadsheets";function E(){return new Promise((function(e,t){window.gapi.load("client:auth2",function(e,t){return function(n){window.gapi.client.init({apiKey:k,clientId:C,discoveryDocs:I,scope:N}).then((function(){window.gapi.auth2.getAuthInstance().isSignedIn.listen(n),n&&n(window.gapi.auth2.getAuthInstance().isSignedIn.get()),e()}),(function(e){throw t(),new Error(JSON.stringify(e,null,2))}))}}(e,t))}))}function S(){return window.gapi.auth2.getAuthInstance().isSignedIn.get()}function A(){return(A=Object(y.a)(w.a.mark((function e(t,n,a){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!z(t)){e.next=2;break}throw new Error("description is not valid");case 2:if(!z(n)){e.next=4;break}throw new Error("category is not valid");case 4:if(!z(a)){e.next=6;break}throw new Error("amount is not valid");case 6:return e.prev=6,e.next=9,window.gapi.client.sheets.spreadsheets.values.append({spreadsheetId:"1IP_zrL81Ej2TCLD5qIYWdP8fFk3xYYvJ_-kogZWAa9E",range:"Gastos!A2:B",valueInputOption:"USER_ENTERED",resource:{values:[[t,n,a]]}});case 9:e.next=14;break;case 11:throw e.prev=11,e.t0=e.catch(6),new Error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[6,11]])})))).apply(this,arguments)}function z(e){return null===e||void 0===e||"string"===typeof e&&0===e.length}var D=n(67),T=n.n(D),W=n(120),J=n(122),R=n(123),Y=n(64),_=n.n(Y),B=n(65),G=n.n(B),L=n(66),M=n.n(L),P=n(48),U=n(47),F=n(3),q=Object(b.a)((function(e){return{buttonContainer:{display:"flex",justifyContent:"center"},wrapper:{margin:e.spacing(1),position:"absolute"},success:{backgroundColor:P.a[500],"&:hover":{backgroundColor:P.a[700]}},failure:{backgroundColor:U.a[500],"&:hover":{backgroundColor:U.a[700]}},progress:{color:P.a[500],position:"absolute",top:-6,left:-6,zIndex:1},iconWrapper:{display:"flex",alignItems:"center",justifyContent:"center","& *":{position:"absolute"}}}})),K=0,Q=1,Z=2,$=3,H=function(e){var t,n=e.onClick,c=e.promise,s=q(),r=Object(i.useState)(K),o=Object(j.a)(r,2),u=o[0],l=o[1];return Object(i.useEffect)((function(){c?(l(Q),c.then((function(){l(Z),setTimeout((function(){l(K)}),2e3)})).catch((function(){l($),setTimeout((function(){l(K)}),2e3)}))):l(K)}),[c]),Object(a.jsx)("div",{className:s.buttonContainer,children:Object(a.jsxs)("div",{className:s.wrapper,children:[Object(a.jsx)(W.a,{"aria-label":"Guardar",className:Object(F.a)((t={},Object(d.a)(t,s.success,u===Z),Object(d.a)(t,s.failure,u===$),t)),color:"primary",onClick:n,disabled:u===Q,children:Object(a.jsxs)("div",{className:s.iconWrapper,children:[Object(a.jsx)(J.a,{in:u===K||u===Q,appear:!1,children:Object(a.jsx)(_.a,{})}),Object(a.jsx)(J.a,{in:u===Z,style:{transitionDelay:u===Z?"200ms":"0ms"},children:Object(a.jsx)(G.a,{})}),Object(a.jsx)(J.a,{in:u===$,style:{transitionDelay:u===$?"200ms":"0ms"},children:Object(a.jsx)(M.a,{})})]})}),u===Q&&Object(a.jsx)(R.a,{size:68,className:s.progress})]})})},V=Object(b.a)((function(e){return{title:{flexGrow:1},input:{margin:e.spacing(3)},buttonContainer:{display:"flex",justifyContent:"center"},form:{textAlign:"center"}}})),X={description:"",category:"",amount:""};function ee(e,t){return t.reset?X:Object(p.a)(Object(p.a)({},e),{},Object(d.a)({},t.name,t.value))}var te=function(){var e=V(),t=Object(i.useReducer)(ee,X),n=Object(j.a)(t,2),c=n[0],s=n[1],r=Object(i.useState)(),o=Object(j.a)(r,2),u=o[0],l=o[1],d=Object(i.useState)(!0),p=Object(j.a)(d,2),b=p[0],m=p[1],w=Object(i.useCallback)((function(e){return function(t){var n=t.target.value;s({name:e,value:n})}}),[s]);Object(i.useEffect)((function(){E().then((function(){m(S())}))}),[]);return b?Object(a.jsxs)("div",{children:[Object(a.jsx)(g.a,{position:"static",children:Object(a.jsxs)(f.a,{children:[Object(a.jsx)(O.a,{variant:"h6",className:e.title,children:"Nuevo gasto"}),Object(a.jsx)(x.a,{"aria-label":"Usuario",color:"inherit",children:Object(a.jsx)(T.a,{})})]})}),Object(a.jsxs)("form",{className:e.form,children:[Object(a.jsx)("div",{className:e.input,children:Object(a.jsx)(v.a,{label:"Descripci\xf3n",value:c.description,onChange:w("description")})}),Object(a.jsx)("div",{className:e.input,children:Object(a.jsx)(v.a,{label:"Categor\xeda",value:c.category,onChange:w("category")})}),Object(a.jsx)("div",{className:e.input,children:Object(a.jsx)(v.a,{label:"Cantidad",value:c.amount,onChange:w("amount")})})]}),Object(a.jsx)(H,{onClick:function(){var e=function(e,t,n){return A.apply(this,arguments)}(c.description,c.category,c.amount);e.then((function(){s({reset:!0})})).catch((function(){})),l(e)},promise:u})]}):Object(a.jsxs)("div",{children:["no est\xe1s logueado",Object(a.jsx)(h.a,{onClick:function(){window.gapi.auth2.getAuthInstance().signIn(),m(S())},children:"Loguearse"})]})},ne=Object(o.a)({palette:{type:"light"},typography:{},props:{MuiButton:{variant:"contained"},MuiTextField:{variant:"outlined"}}});var ae=function(){return Object(a.jsx)("div",{children:Object(a.jsxs)(u.a,{theme:ne,children:[Object(a.jsx)(l.a,{}),Object(a.jsx)(te,{})]})})};r.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(ae,{})}),document.getElementById("root"))}},[[88,1,2]]]);
//# sourceMappingURL=main.d3c140a2.chunk.js.map