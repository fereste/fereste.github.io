(this.webpackJsonpgastos=this.webpackJsonpgastos||[]).push([[0],{79:function(e,t,n){},87:function(e,t,n){"use strict";n.r(t);var a=n(5),c=n(0),r=n.n(c),i=n(10),s=n.n(i),o=(n(79),n(68)),u=n(129),l=n(130),j=n(16),b=n(24),d=n(52),p=n(117),g=n(126),h=n(127),O=n(124),f=n(128),m=n(131),x=n(35),v=n.n(x),w=n(53),y=I("OTE5NDY5MjYwODgzLXNnMmduOHZtNHBmOWRudThkYm9tZDQzbzNiZzZrczhjLmFwcHMuZ29vZ2xldXNlcmNvbnRlbnQuY29t"),C=I("QUl6YVN5Q2ktOV9jb2tpMHdOVXlDcHd6YlFOUk8xTm5wdFdkNHpZ"),N=["https://sheets.googleapis.com/$discovery/rest?version=v4"],k="https://www.googleapis.com/auth/spreadsheets";I("MUlQX3pyTDgxRWoyVENMRDVxSVlXZFA4ZkZrM3hZWXZKXy1rb2daV0FhOUU=");function I(e){return decodeURIComponent(escape(window.atob(e)))}function E(){return new Promise((function(e,t){window.gapi.load("client:auth2",function(e,t){return function(n){window.gapi.client.init({apiKey:C,clientId:y,discoveryDocs:N,scope:k}).then((function(){window.gapi.auth2.getAuthInstance().isSignedIn.listen(n),n&&n(window.gapi.auth2.getAuthInstance().isSignedIn.get()),e()}),(function(e){throw t(),new Error(JSON.stringify(e,null,2))}))}}(e,t))}))}function S(){return window.gapi.auth2.getAuthInstance().isSignedIn.get()}function Z(){return window.gapi.auth2.getAuthInstance().signIn()}function D(){return window.gapi.auth2.getAuthInstance().signOut()}function M(e,t,n){return T.apply(this,arguments)}function T(){return(T=Object(w.a)(v.a.mark((function e(t,n,a){var c,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=[],A(t)&&c.push("description"),A(n)&&c.push("category"),A(a)&&c.push("amount"),!(c.length>0)){e.next=7;break}throw r=1===c.length?"tiene":"tienen",new Error("".concat(c.join(", ")," ").concat(r," error."));case 7:return e.prev=7,e.next=10,window.gapi.client.sheets.spreadsheets.values.append({spreadsheetId:"1IP_zrL81Ej2TCLD5qIYWdP8fFk3xYYvJ_-kogZWAa9E",range:"Gastos!A2:B",valueInputOption:"USER_ENTERED",resource:{values:[[t,n,a]]}});case 10:e.next=15;break;case 12:throw e.prev=12,e.t0=e.catch(7),new Error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[7,12]])})))).apply(this,arguments)}function A(e){return null===e||void 0===e||"string"===typeof e&&0===e.length}var Y=n(67),z=n.n(Y),F=n(120),R=n(122),U=n(123),H=n(64),V=n.n(H),W=n(65),X=n.n(W),B=n(66),L=n.n(B),Q=n(48),G=n(47),J=n(3),P=Object(p.a)((function(e){return{buttonContainer:{display:"flex",justifyContent:"center"},wrapper:{margin:e.spacing(1),position:"absolute"},success:{backgroundColor:Q.a[500],"&:hover":{backgroundColor:Q.a[700]}},failure:{backgroundColor:G.a[500],"&:hover":{backgroundColor:G.a[700]}},progress:{color:Q.a[500],position:"absolute",top:-6,left:-6,zIndex:1},iconWrapper:{display:"flex",alignItems:"center",justifyContent:"center","& *":{position:"absolute"}}}})),_=0,q=1,K=2,$=3,ee=function(e){var t,n=e.onClick,r=e.promise,i=P(),s=Object(c.useState)(_),o=Object(j.a)(s,2),u=o[0],l=o[1];return Object(c.useEffect)((function(){r?(l(q),r.then((function(){l(K),setTimeout((function(){l(_)}),2e3)})).catch((function(){l($),setTimeout((function(){l(_)}),2e3)}))):l(_)}),[r]),Object(a.jsx)("div",{className:i.buttonContainer,children:Object(a.jsxs)("div",{className:i.wrapper,children:[Object(a.jsx)(F.a,{"aria-label":"Guardar",className:Object(J.a)((t={},Object(b.a)(t,i.success,u===K),Object(b.a)(t,i.failure,u===$),t)),color:"primary",onClick:n,disabled:u===q,children:Object(a.jsxs)("div",{className:i.iconWrapper,children:[Object(a.jsx)(R.a,{in:u===_||u===q,appear:!1,children:Object(a.jsx)(V.a,{})}),Object(a.jsx)(R.a,{in:u===K,style:{transitionDelay:u===K?"200ms":"0ms"},children:Object(a.jsx)(X.a,{})}),Object(a.jsx)(R.a,{in:u===$,style:{transitionDelay:u===$?"200ms":"0ms"},children:Object(a.jsx)(L.a,{})})]})}),u===q&&Object(a.jsx)(U.a,{size:68,className:i.progress})]})})},te=n(125),ne=Object(p.a)((function(e){return{root:{margin:e.spacing(3),textAlign:"center"},spacing:{marginBottom:e.spacing(2)},button:{marginTop:e.spacing(2)},errorMessage:{color:e.palette.error.main}}})),ae=function(e){var t=e.onSignedIn,n=ne(),r=Object(c.useState)(""),i=Object(j.a)(r,2),s=i[0],o=i[1],u=Object(c.useCallback)((function(){Z().then((function(){t&&t()})).catch((function(){o("Hubo un error con el logueo. Estos programadores son todos iguales. Preguntale a Fer si lo puede arreglar.")}))}),[Z]);return Object(a.jsxs)("div",{className:n.root,children:[Object(a.jsx)(O.a,{className:n.spacing,variant:"h4",children:"Oops! :("}),Object(a.jsx)(O.a,{className:n.spacing,variant:"body1",children:"Ten\xe9s que loguearte para poder usar la app"}),Object(a.jsx)(O.a,{className:n.errorMessage,variant:"body1",children:s}),Object(a.jsx)(te.a,{className:n.button,color:"primary",onClick:u,children:"Loguearme con Google"})]})},ce=Object(p.a)((function(e){return{title:{flexGrow:1},input:{margin:e.spacing(3)},buttonContainer:{display:"flex",justifyContent:"center"},form:{textAlign:"center"}}})),re={description:"",category:"",amount:""};function ie(e,t){return t.reset?re:Object(d.a)(Object(d.a)({},e),{},Object(b.a)({},t.name,t.value))}var se=function(){var e=ce(),t=Object(c.useReducer)(ie,re),n=Object(j.a)(t,2),r=n[0],i=n[1],s=Object(c.useState)(),o=Object(j.a)(s,2),u=o[0],l=o[1],b=Object(c.useState)(!0),d=Object(j.a)(b,2),p=d[0],x=d[1],v=Object(c.useState)(""),w=Object(j.a)(v,2),y=(w[0],w[1],Object(c.useCallback)((function(e){return function(t){var n=t.target.value;i({name:e,value:n})}}),[i])),C=Object(c.useCallback)((function(){var e=M(r.description,r.category,r.amount);e.then((function(){i({reset:!0})})).catch((function(){})),l(e)}),[M]);Object(c.useEffect)((function(){E().then((function(){x(S())}))}),[E,S]);var N=Object(c.useCallback)((function(){D().then((function(){x(!1)}))}),[D,S]),k=Object(c.useCallback)((function(){x(!0)}),[]);return p?Object(a.jsxs)("div",{children:[Object(a.jsx)(g.a,{position:"static",children:Object(a.jsxs)(h.a,{children:[Object(a.jsx)(O.a,{variant:"h6",className:e.title,children:"Nuevo gasto"}),Object(a.jsx)(f.a,{"aria-label":"Usuario",color:"inherit",onClick:N,children:Object(a.jsx)(z.a,{})})]})}),Object(a.jsxs)("form",{className:e.form,children:[Object(a.jsx)("div",{className:e.input,children:Object(a.jsx)(m.a,{label:"Descripci\xf3n",value:r.description,onChange:y("description")})}),Object(a.jsx)("div",{className:e.input,children:Object(a.jsx)(m.a,{label:"Categor\xeda",value:r.category,onChange:y("category")})}),Object(a.jsx)("div",{className:e.input,children:Object(a.jsx)(m.a,{label:"Cantidad",value:r.amount,onChange:y("amount")})})]}),Object(a.jsx)(ee,{onClick:C,promise:u})]}):Object(a.jsx)(ae,{onSignedIn:k})},oe=Object(o.a)({palette:{type:"light"},typography:{},props:{MuiButton:{variant:"contained"},MuiTextField:{variant:"outlined"}}});var ue=function(){return Object(a.jsx)("div",{children:Object(a.jsxs)(u.a,{theme:oe,children:[Object(a.jsx)(l.a,{}),Object(a.jsx)(se,{})]})})};s.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(ue,{})}),document.getElementById("root"))}},[[87,1,2]]]);
//# sourceMappingURL=main.ee2bc2aa.chunk.js.map